/* переменные и миксины — как раньше */
$dark-bg: #181818;
$dark-card-bg: #222;
$dark-border: #2e2e2e;
$font-color: #eaeaea;
$font-color-muted: #a0a0a0;
$accent: #6c63ff;
$accent-light: #928cff;
$border-radius-base: 10px;
$transition-speed: 0.3s;

@mixin transition { transition: all $transition-speed ease-in-out; }
@mixin soft-shadow { box-shadow: 0 4px 12px rgba(0,0,0,0.4); }

:host {
  display: block;
  background: $dark-card-bg;
  padding: 1rem;
  border-radius: $border-radius-base;
  @include soft-shadow;
  color: $font-color;
  font-family: 'Segoe UI', sans-serif;
}

/* toolbar */
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;
  button{padding:.5rem 1rem;border:none;border-radius:5px;background:$accent;color:#fff;@include transition;
    &:hover{background:$accent-light;transform:translateY(-2px);} }
  .save-btn{margin-left:auto;background:#555;&:hover{background:#666;}}}

/* блок */
.block-item{position:relative;background:$dark-bg;border:1px solid $dark-border;border-radius:6px;padding:1rem;margin-bottom:1rem;@include transition;
  &:hover{@include soft-shadow;transform:translateY(-2px);}
  .block-controls{position:absolute;top:8px;right:8px;display:flex;gap:.25rem;
    button{background:transparent;border:none;color:#888;cursor:pointer;font-size:1rem;@include transition;
      &:hover{color:$font-color;transform:scale(1.2);} } }
  textarea,input{width:100%;background:#282828;border:1px solid $dark-border;border-radius:4px;padding:.5rem;color:$font-color;font-size:.9rem;@include transition;
    &:focus{outline:none;border-color:$accent;box-shadow:0 0 0 2px rgba($accent-light,.3);} }}

/* code */
.code-block{font-family:'Fira Code',monospace;background:#1e1e1e;border-left:4px solid $accent;border-radius:4px;padding:1rem;color:#d4d4d4;overflow-x:auto;max-height:300px;}

/* list */
.list-block{label{font-size:.85rem;color:$font-color-muted;}
  .add-list-item{margin-top:.5rem;background:$accent;border:none;color:#fff;padding:.3rem .6rem;border-radius:4px;cursor:pointer;@include transition;&:hover{background:$accent-light;}}}

/* section */
.section-block{border:1px dashed $dark-border;border-radius:6px;padding:1rem;
  .section-title{background:#181818;border:1px solid $dark-border;border-radius:4px;padding:.5rem;font-weight:bold;color:$font-color;margin-bottom:.5rem;}
  .add-section-child{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem;
    button{font-size:.8rem;padding:.3rem .6rem;background:$accent;border:none;border-radius:4px;color:#fff;@include transition;&:hover{background:$accent-light;}}}

  /* table */
  .table-block{margin-top:1rem;
    .table-controls{display:flex;gap:.5rem;margin-bottom:.5rem;
      button{background:$accent;border:none;color:#fff;padding:.3rem .6rem;border-radius:4px;cursor:pointer;@include transition;&:hover{background:$accent-light;}} }
    table{width:100%;border-collapse:collapse;
      td{border:1px solid $dark-border;padding:.5rem;vertical-align:top;position:relative;color:$font-color;}
      tbody tr:nth-child(odd){background:darken($dark-bg,5%);}
      .empty-cell{color:$font-color-muted;font-size:.85rem;} }

    /* мини-toolbar в ячейке */
    .cell-toolbar{position:absolute;top:4px;left:4px;display:flex;gap:2px;
      select,button{background:#444;border:1px solid #666;color:$font-color;font-size:.7rem;border-radius:3px;cursor:pointer;}
      button{padding:0 4px;&:hover{background:#922;color:#fff;}}}}}
